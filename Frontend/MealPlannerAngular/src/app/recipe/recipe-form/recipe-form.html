<div class="recipe-form-container">

  <h2>{{ isEdit ? 'Edit Recipe' : 'Create Recipe' }}</h2>

  <form [formGroup]="form" (ngSubmit)="save()">

    <!-- NAME -->
    <div class="form-group">
      <label>Name:</label>
      <input formControlName="name" type="text" />
      <div class="error" *ngIf="form.get('name')?.touched && form.get('name')?.invalid">
        Name is required.
      </div>
    </div>

    <!-- COOKING TIME -->
    <div class="form-group">
      <label>Cooking Time (minutes):</label>
      <input formControlName="cookingTime" type="number" />
    </div>

    <!-- INSTRUCTIONS -->
    <div class="form-group">
      <label>Instructions:</label>
      <textarea formControlName="instructions"></textarea>
    </div>

    <!-- INGREDIENTS -->
    <div class="ingredients-section">
      <h3>Ingredients</h3>

    </div>


      <div formArrayName="ingredients">

        <div
          class="ingredient-row"
          *ngFor="let ing of ingredients.controls; let i = index"
          [formGroupName]="i"
        >
          <input placeholder="Name" formControlName="name" />
          <input placeholder="Quantity" formControlName="quantity" />

          <button type="button" (click)="removeIngredient(i)">Remove
          </button>
        </div>

        <button type="button" class="add-btn" (click)="addIngredient()">
          + Add Ingredient
        </button>
      </div>

    <!-- ERROR -->
    <div *ngIf="error" class="error-box">{{ error }}</div>

    <!-- ACTION BUTTONS -->
    <div class="actions">
      <button type="submit" [disabled]="saving">
        {{ saving ? 'Savingâ€¦' : 'Save' }}
      </button>

      <button type="button" (click)="cancel()">Cancel</button>
    </div>

  </form>

</div>
